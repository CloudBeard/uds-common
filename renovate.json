{
  "enabled": true,
  "extends": [
    ":dependencyDashboard",
    ":semanticCommits",
    ":semanticCommitTypeAll(chore)"
  ],
  "forkProcessing": "enabled",
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "branchConcurrentLimit": 0,
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "rebaseStalePrs": true,
  "platform": "github",
  "requireConfig": "required",
  "commitBodyTable": true,
  "separateMajorMinor": false,
  "suppressNotifications": ["prIgnoreNotification"],
  "regexManagers":[
    {
      "depNameTemplate": "defenseunicorns/uds-core",
      "fileMatch": ["\\.*\\.ya?ml$","README\\.md"],
      "matchStrings": [
        "- UDS Core: (?<currentValue>.*)",
        "# renovate: datasource=github-tags depName=defenseunicorns/uds-core versioning=(?<versioning>.*?)\n.*?(k3d-core-istio-dev:)(?<currentValue>.*)"
      ],
      "datasourceTemplate": "github-tags",
      "extractVersionTemplate": "^v(?<version>.*)$"
    },
    {
      "depNameTemplate": "defenseunicorns/uds-cli",
      "fileMatch": ["\\.*\\.ya?ml$","README\\.md"],
      "matchStrings": [
        "- UDS CLI: (?<currentValue>.*)",
        "# renovate: datasource=github-tags depName=defenseunicorns/uds-cli versioning=(?<versioning>[^\n]+)\n.*?uds@(?<currentValue>.*)"
      ],
      "datasourceTemplate": "github-tags",
      "extractVersionTemplate": "^v(?<version>.*)$"
    },
    {
      "depNameTemplate": "defenseunicorns/zarf",
      "fileMatch": ["README\\.md"],
      "matchStrings": [
        "- Zarf: (?<currentValue>.*)",
        "# renovate: datasource=github-tags depName=defenseunicorns/zarf versioning=(?<versioning>.*?)\n.*?(version:) (?<currentValue>.*)"
      ],
      "datasourceTemplate": "github-tags",
      "extractVersionTemplate": "^v(?<version>.*)$"
    }
  ],
  "packageRules": [
    { 
      "matchFileNames": [".github/**"],
      "excludePackageNames": ["defenseunicorns/zarf","defenseunicorns/uds-cli"],
      "groupName": "githubactions",
      "commitMessageTopic": "githubactions",
      "pinDigests": true
    }
  ]
}
